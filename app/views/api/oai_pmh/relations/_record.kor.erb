<% cache record do %>
<kor:relation
  xmlns:kor="https://coneda.net/XMLSchema/1.0/"
  xsi:schemaLocation="https://coneda.net/XMLSchema/1.0/ 
                      https://coneda.net/XMLSchema/1.0/kor.xsd"
>
  <kor:id><%= record.uuid %></kor:id>
  <kor:created-at><%= timestamp record.created_at %></kor:created-at>
  <kor:updated-at><%= timestamp record.updated_at %></kor:updated-at>
  <kor:name><%= record.name %></kor:name>
  <kor:reverse-name><%= record.reverse_name %></kor:reverse-name>
  <kor:description><%= record.description %></kor:description>
  <kor:from-type>
    <kor:ref type="kind" id="<%= record.from_kind.uuid %>"><%= record.from_kind.name %></kor:ref>
  </kor:from-type>
  <kor:to-type>
    <kor:ref type="kind" id="<%= record.to_kind.uuid %>"><%= record.to_kind.name %></kor:ref>
  </kor:to-type>
  <kor:parents>
    <% record.parents.each do |parent| %>
      <kor:ref type="relation" id="<%= parent.uuid %>"></kor:ref>
    <% end %>
  </kor:parents>
  <kor:children>
    <% record.children.each do |child| %>
      <kor:ref type="relation" id="<%= child.uuid %>"></kor:ref>
    <% end %>
  </kor:children>
</kor:relation>
<% end %>